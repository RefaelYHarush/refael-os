# משימות בהמשך למחקר הפרויקט (פברואר 2026)

מבוסס על **דוח החקירה** `INVESTIGATION_REPORT_2026.md`.  
**סימון:** ☐ לא בוצע | ☑ בוצע  
**עודכן:** פברואר 2026 – כל המשימות בוצעו.

---

## עדיפות בינונית – אבטחה ותחזוקה

### מ1. .env.example – Placeholders במקום ערכים אמיתיים

| # | משימה | קובץ | סטטוס |
|---|--------|------|--------|
| מ1.1 | להחליף ב־`.env.example` את `VITE_SUPABASE_URL` לערך placeholder, למשל: `https://your-project.supabase.co` | `refael-os/.env.example` | ☑ |
| מ1.2 | להחליף את `VITE_SUPABASE_ANON_KEY` ל־placeholder, למשל: `your-anon-key` (או להשאיר הערה איפה להשיג מפתח ב־Supabase Dashboard) | `refael-os/.env.example` | ☑ |
| מ1.3 | להוסיף שורה קצרה בהערה בראש הקובץ: "העתק ל־.env ומלא ערכים מפרויקט Supabase שלך" | `refael-os/.env.example` | ☑ |

**תוצאה:** הרפו בטוח יותר אם הוא ציבורי; מפתחות אמיתיים לא יופיעו ב־example.

---

## עדיפות נמוכה – ביצועים

### נ1. Code splitting – הקטנת גודל ה־bundle

| # | משימה | קובץ | סטטוס |
|---|--------|------|--------|
| נ1.1 | להמיר את ה־views (DashboardView, TradingView, SaasView, וכו') ל־`React.lazy(() => import(...))` | `App.jsx` או קובץ רוטינג | ☑ |
| נ1.2 | לעטוף את התוכן הדינמי ב־`<Suspense fallback={...}>` עם fallback טעינה (ספינר או "טוען...") | `App.jsx` / Layout | ☑ |
| **או** | | | |
| נ1.3 | להוסיף ב־`vite.config.js` `build.rollupOptions.output.manualChunks` – לפצל לפי קבוצות (למשל `vendor`, `views`) | `vite.config.js` | ☐ (לא נדרש – lazy מספיק) |

**תוצאה:** טעינה ראשונית קלה יותר; אזהרת Vite על chunk > 500KB תיעלם (אחרי הביצוע – ה־main chunk ירד ל־~452KB, views נטענים כ־chunks נפרדים).

---

## אופציונלי – דיבוג ולוגים

### או1. לוג כישלון רישום PWA

| # | משימה | קובץ | סטטוס |
|---|--------|------|--------|
| או1.1 | ב־`PWAUpdatePrompt.jsx`: ב־`.catch(() => {})` של רישום Service Worker – להוסיף `console.warn('PWA registration failed', err)` (או להעביר את err ל־catch) | `src/components/PWAUpdatePrompt.jsx` | ☑ |

**תוצאה:** בעיות PWA יופיעו בקונסול ויקל לדבג.

---

### או2. וידוא ידני – כפתור "פרטי עסקה"

| # | משימה | קובץ | סטטוס |
|---|--------|------|--------|
| או2.1 | לבדוק בדפדפן: בלחיצה על ChevronRight / "פרטי עסקה" בטבלת המסחר – האם נפתח TradeDetailModal (או דף עריכה)? אם לא – לחבר את ה־handler | `TradingView.jsx` | ☑ (מאומת בקוד: הכפתור מחובר ל־setSelectedTrade, TradeDetailModal מוצג) |

**תוצאה:** וידוא שאין "כפתור מת" במסחר.

---

## תחזוקת Workspace (מסמך חקירת תיקיות)

### ת1. החלטה לגבי תיקיית rafael-os

| # | משימה | מיקום | סטטוס |
|---|--------|--------|--------|
| ת1.1 | להחליט: למחוק את `rafael-os/` (גרסה ישנה/חסרה) או להעביר לארכיון (למשל `archive/rafael-os_YYYYMMDD`) | שורש הפרויקט `refael os/` | ☑ (הועבר ל־archive/rafael-os_legacy_20260208) |

**הערה:** לפי `חקירת_תיקיות_ומסקנות.md` – רק `refael-os/` הוא הפרויקט המלא; `rafael-os/` חסר `main.jsx` ולא רץ.

---

## סדר ביצוע מומלץ

1. **מ1** – .env.example (קצר, מפחית סיכון)
2. **או2.1** – וידוא ידני כפתור "פרטי עסקה"
3. **נ1** – Code splitting (דורש בדיקות אחרי שינוי)
4. **או1.1** – לוג PWA (אופציונלי)
5. **ת1.1** – החלטה על rafael-os (כשנוח)

---

## סיכום

| עדיפות | כמות | נושאים | סטטוס |
|--------|------|--------|--------|
| בינונית | 3 (מ1) | .env.example placeholders | ☑ |
| נמוכה | 2 (נ1.1, נ1.2) | Code splitting (lazy + Suspense) | ☑ |
| אופציונלי | 2 (או1, או2) | לוג PWA, וידוא כפתור מסחר | ☑ |
| תחזוקה | 1 (ת1) | תיקיית rafael-os → ארכיון | ☑ |

**כבר בוצע במסגרת המחקר:** Route ל־404 (catch-all) ב־`App.jsx` – כל URL לא מוכר מפנה ל־`/`.

---

*משימות אלה נוספו בעקבות דוח החקירה `INVESTIGATION_REPORT_2026.md`. לעדכון סטטוס – לסמן ☑ כאן אחרי ביצוע.*
