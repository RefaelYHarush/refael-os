# חקירה מקצועית של האתר – REFAEL OS

**תאריך:** 8 בפברואר 2026  
**סטטוס:** דוח חקירה מקצועית + המלצות לשינוי (על בסיס צפייה באתר, קוד, ודוחות קיימים)

---

## 1. סיכום מנהלים

האתר **REFAEL OS** הוא דשבורד ניהול חיים (Life Management) עם התחברות Google/Supabase, RTL מלא, נגישות, ו־PWA.  
החקירה מזהה **נקודות חוזק** (עיצוב מותג, נגישות, מבנה קוד) ו־**שיפורים ממוקדים**: חוויית התחברות (סקופים של גוגל), UX בדשבורד, עקביות ויזואלית, וטיפול בשגיאות.

---

## 2. מה עובד טוב (חוזקות)

| תחום | פרטים |
|------|--------|
| **זהות מותגית** | צבעי מותג (#a0df50, #013024) עקביים ב־CTA, לוגו, כותרות; Heebo בעברית. |
| **RTL ועברית** | `dir="rtl"`, `lang="he"`, יישור ותצוגה נכונה בכל המסכים. |
| **נגישות** | דלג לתוכן, פאנל נגישות, טבעת פוקוס, `prefers-reduced-motion`, מינימום 44px למובייל. |
| **דף נחיתה** | Hero ברור, מתג theme, סקשן "מה תקבל" עם כרטיסים, פוטר עם לינקים משפטיים. |
| **אימות** | OAuth עם גוגל, הודעת שגיאה/ביטול מוצגת (parseOAuthErrorFromHash + AuthView). |
| **דשבורד** | כרטיסי KPI דינמיים (SaaS, PnL, XP), צ'ק ליסט יומי, Rethink, גרף 7 ימים. |
| **טכנולוגיה** | React 18, Vite, Tailwind, Supabase, lazy loading לתצוגות. |

---

## 3. ממצאים והמלצות לשינוי

### 3.1 קריטי – סקופ Google Tasks בהתחברות ראשונה

**ממצא:** בדשבורד מופיעה השגיאה:  
`Request had insufficient authentication scopes` בכרטיס "משימות גוגל".

**סיבה:** בהתחברות מדף ההתחברות קוראים ל־`signInWithGoogle()` **בלי** `requestTasksScope: true`. הסקופ של Google Tasks נדרש כדי לטעון רשימות משימות; בלי זה ה־API מחזיר insufficient scopes.

**המלצה:** לבקש את סקופ המשימות כבר בהתחברות הראשונה (מסך Auth), כדי שמשתמשים יקבלו Calendar + Tasks במכה אחת.

**יישום:** ב־`AuthView.jsx`, בקריאה ל־`signInWithGoogle()` להעביר `signInWithGoogle({ requestTasksScope: true })`.

---

### 3.2 UX – דף נחיתה

| המלצה | תיאור |
|--------|--------|
| **גרדיאנט עדין ב־Hero** | רקע עדין (גרדיאנט או דפוס points) רק באזור ה־hero כדי לתת עומק בלי עומס. |
| **כפתור משני בולט יותר** | "כבר יש לך חשבון? התחבר" – אייקון חץ או צבע ירוק־מותג בהובר. |
| **הובר לכרטיסי "מה תקבל"** | כבר קיים `hover:shadow-card-hover`; אפשר להוסיף `hover:-translate-y-0.5` ל־lift קל. |

---

### 3.3 UX – דשבורד ואפליקציה

| המלצה | תיאור |
|--------|--------|
| **גרף 7 ימים ריק** | כבר מוצגת ההודעה "אין נתונים ל־7 הימים האחרונים" + CTA "הוסף עסקה ביומן המסחר" – טוב. |
| **כפתור התראות** | ב־Layout יש כפתור "התראות" (Bell) ללא handler – או לחבר לפונקציונליות או להסיר/להשבית עם tooltip "בקרוב". |
| **משימות גוגל – טקסט עזרה** | כשמופיעה שגיאת scopes, להוסיף קישור/כפתור "התחבר שוב עם הרשאות מלאות" (כבר קיים ב־GoogleTasksCard – לוודא שהוא בולט). |

---

### 3.4 עקביות ופרטים

| המלצה | תיאור |
|--------|--------|
| **CTA ראשי** | מעבר ל־`hover:opacity-95`: לשקול `hover:shadow-xl hover:shadow-brand-dark/25 active:scale-[0.98]` למשוב ויזואלי. |
| **עקביות border-radius** | כפתורים `rounded-button`, כרטיסים `rounded-card` – כבר עקבי; להמשיך באותו אמון. |
| **מודלים – loading** | בטפסים יש ספינר ו"מתחבר..." – טוב; לאשר גם בכפתור Google. |

---

### 3.5 יומן (Calendar) וסנכרון

| נושא | סטטוס |
|------|--------|
| **שגיאות רשימת יומנים** | ב־CalendarView יש `calendarsError` ו־`setCalendarsError` ב־loadCalendars – מטופל. |
| **שמירת פרופיל יומן** | ב־AppContext – אם נכשל, מומלץ להציג `setSyncError` (לא רק console.warn). |
| **אינדיקציה מתמשכת ל"ללא סנכרון"** | כשהמשתמש סוגר את באנר השגיאה, יש שורת "אין סנכרון – הנתונים נשמרים מקומית" – טוב; אפשר להוסיף אייקון קטן קבוע ב־header. |

---

### 3.6 פונקציונליות שטרם מחוברת (מהדוחות הקיימים)

| פריט | המלצה |
|------|--------|
| **SaaS – "פרויקט חדש"** | לוודא שכפתור מחובר ל־AddSaasProjectModal (בקוד נראה שמוצג showAddProject – לאשר ב־UI). |
| **מסחר – "פרטי עסקה"** | ChevronRight בטבלה – לחבר למודל/דף פרטי עסקה או עריכה. |
| **Deep Work Timer** | כרטיס בדשבורד – כבר פותח DeepWorkTimerModal; לוודא שכל הכניסות מובילות למודל. |

---

## 4. סיכום עדיפויות

| עדיפות | נושא | פעולה מוצעת |
|--------|------|-------------|
| **גבוהה** | סקופ Google Tasks בהתחברות | לבקש `requestTasksScope: true` ב־AuthView ב־signInWithGoogle |
| **בינונית** | כפתור התראות ב־Layout | לחבר או להציג "בקרוב" |
| **בינונית** | שמירת פרופיל יומן כושלת | להציג setSyncError ב־onError של saveCalendarProfile |
| **נמוכה** | גרדיאנט/הובר בדף נחיתה | שיפורי עיצוב קלים |
| **נמוכה** | אייקון "ללא סנכרון" קבוע | אופציונלי ב־header |

---

## 5. מסקנה

האתר במצב טוב: מותג ברור, נגישות ו־RTL, אימות ו־OAuth עם טיפול בשגיאות.  
**השינוי הקריטי** הוא בקשת סקופ Google Tasks כבר בהתחברות הראשונה, כדי למנוע את השגיאה "Request had insufficient authentication scopes" בדשבורד. שאר ההמלצות הן שיפורי UX ועקביות.

---

*מסמך זה מתבסס על צפייה באתר (דף נחיתה, דשבורד), סריקת קוד, ומסמכי DESIGN_AUDIT_RECOMMENDATIONS, WHERE_THE_SITE_FAILS, ו־AUDIT_REPORT.*
