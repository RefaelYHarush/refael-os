@tailwind base;
@tailwind components;
@tailwind utilities;

/* פונט עברי – Heebo (נטען מ-index.html) */
@layer base {
  html {
    font-family: 'Heebo', sans-serif;
  }
}

/* צבעי מותג מ-Logo – נגישות WCAG AA; פלטה מאוזנת וברורה */
:root {
  --brand-light: #90c93e;
  --brand-dark: #013024;
  --brand-dark-hover: #012a20;
  --brand-black: #0f1419;
  --brand-white: #ffffff;
  --brand-page: #fafafa;
  --brand-accent-secondary: #d45d4a;
  /* משטחים בכהה – היררכיה ויזואלית (רקע עמוק → כרטיסים → אלמנטים מורמים) */
  --surface-dark: #0a2e26;
  --surface-dark-elevated: #0f3d34;
  --surface-dark-card: #0d362d;
  /* טקסט נגיש על רקע כהה – גוון חם־ירקרק לקריאות */
  --text-on-dark: #f0f7f4;
  --text-on-dark-muted: #9ebdb4;
  --accent-on-dark: #90c93e;
  /* גלואים מהמותג – לשימוש בבר־התקדמות, פוקוס, הדגשות */
  --brand-glow: rgba(144, 201, 62, 0.4);
  --brand-glow-soft: rgba(144, 201, 62, 0.15);
}

/* Respect user preference for reduced motion (WCAG 2.3.3) */
@media (prefers-reduced-motion: reduce) {
  .animate-in {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
  }
}

/* Custom animation utilities for REFAEL OS - animate transform only so content stays visible */
.animate-in {
  animation-duration: 0.5s;
  animation-timing-function: ease-out;
  animation-fill-mode: forwards;
}
.fade-in {
  animation-name: fadeIn;
}
.slide-in-from-bottom-4 {
  animation-name: slideInFromBottom4;
}
.slide-in-from-right-4 {
  animation-name: slideInFromRight4;
}
.slide-in-from-bottom-8 {
  animation-name: slideInFromBottom8;
}
.duration-500 { animation-duration: 0.5s; }
.duration-700 { animation-duration: 0.7s; }

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}
@keyframes slideInFromBottom4 {
  from { transform: translateY(1rem); }
  to { transform: translateY(0); }
}
@keyframes slideInFromRight4 {
  from { transform: translateX(1rem); }
  to { transform: translateX(0); }
}
@keyframes slideInFromBottom8 {
  from { transform: translateY(2rem); }
  to { transform: translateY(0); }
}

.no-scrollbar::-webkit-scrollbar {
  display: none;
}
.no-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* Safe area for notched devices (mobile) */
.pb-safe {
  padding-bottom: max(env(safe-area-inset-bottom, 0), 0.25rem);
}
.pt-safe {
  padding-top: max(env(safe-area-inset-top, 0), 0.25rem);
}
/* Touch targets – מינימום 44px למובייל (WCAG 2.5.5) */
@media (pointer: coarse) {
  .touch-target-min {
    min-height: 44px;
    min-width: 44px;
  }
}

/* נגישות: טבעת פוקוס גלויה וניגודית (WCAG 2.4.7) */
button:focus-visible,
a:focus-visible,
[role="button"]:focus-visible,
input:focus-visible,
select:focus-visible {
  outline: 3px solid var(--brand-light);
  outline-offset: 2px;
}

/* --- הגדרות נגישות (כפתור נגישות) --- */
html {
  font-size: calc(100% * var(--a11y-font-scale, 1));
}

[data-a11y-contrast="high"] {
  --brand-page: #f5f5f5;
}
[data-a11y-contrast="high"].dark {
  --brand-page: #0a0a0a;
}
[data-a11y-contrast="high"] button,
[data-a11y-contrast="high"] a[href] {
  font-weight: 600;
}
[data-a11y-contrast="high"] input,
[data-a11y-contrast="high"] select,
[data-a11y-contrast="high"] button {
  border-width: 2px;
  border-color: currentColor;
}

[data-a11y-links="highlight"] a[href] {
  text-decoration: underline;
  text-underline-offset: 0.2em;
  text-decoration-color: var(--brand-light);
}

/* שימוש בצבע המשני (שגיאות, אזהרות, הדגשות) */
.brand-accent-secondary {
  color: var(--brand-accent-secondary);
}
.bg-brand-accent-secondary {
  background-color: var(--brand-accent-secondary);
}

[data-a11y-motion="reduce"] *,
[data-a11y-motion="reduce"] *::before,
[data-a11y-motion="reduce"] *::after {
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.01ms !important;
}
